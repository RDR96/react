import { PayableDetails, MercoaSession } from '@mercoa/react'
import { payerEntity, vendorEntities } from '../../mockData'
import { ComponentContainer } from '../../components/helpers'

# Payable Form

The `<PayableDetails>` component is used to let users create and manage payable invoices.

The components's configuration is controlled by the options passed in when creating the [JWT token](https://docs.mercoa.com/api-reference/entity/get-token#request)

## Customization Options

| Themeable | Variations | Custom Component |
| :-------: | :--------: | :--------------: |
|    ✅     |     ✅     |        ❌        |

## Props

| Name         | Type                                              | Required | Description                                                                                                                                           |
| :------------| :-------------------------------------------------| :--------| :-----------------------------------------------------------------------------------------------------------------------------------------------------|
| invoiceId    | `string`                                          |          | The ID of the invoice to edit. Leave blank if creating a new invoice                                                                                  |
| onRedirect   | `(invoice: InvoiceResponse \| undefined) => void` | ✅       | When the invoice is created, updated, or deleted, this callback is triggered                                                                          |
| layout       | `"left" "right"`                                  |          | If "left", the invoice upload/document is on the left. Otherwise this is flipped. Default is "left"                                                   |
| heightOffset | `number`                                          |          | This component uses the screen size to set its height. If you have other elements on the screen, increase the height offset to shrink this component. |


## Examples

### Edit Existing Invoice

<ComponentContainer>
  <PayableDetails invoiceId={'inv_new_ready'} />
  ```jsx
<PayableDetails
  invoiceId={'inv_XXXXX-XXXX-XXXXXX'}   
  onRedirect={(invoice) => {
    if (!invoice) {
      router.push(`/dashboard/payers/${entityId}`)
      return
    }
    router.push(`/dashboard/payers/${entityId}/invoices/${invoice.id}`)
  }}
/>
  ```
</ComponentContainer>

### Create New Invoice

<ComponentContainer>
  <PayableDetails />
  ```jsx
<PayableDetails 
  onRedirect={(invoice) => {
    if (!invoice) {
      router.push(`/dashboard/payers/${entityId}`)
      return
    }
    router.push(`/dashboard/payers/${entityId}/invoices/${invoice.id}`)
  }}
/>
  ```
</ComponentContainer>

### Document on right

<ComponentContainer>
  <PayableDetails invoiceId={'inv_new_ready'} layout="right" />
  ```jsx
<PayableDetails
  layout="right"
  invoiceId={'inv_XXXXX-XXXX-XXXXXX'}   
  onRedirect={(invoice) => {
    if (!invoice) {
      router.push(`/dashboard/payers/${entityId}`)
      return
    }
    router.push(`/dashboard/payers/${entityId}/invoices/${invoice.id}`)
  }}
/>
  ```
</ComponentContainer>

